"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/history",{

/***/ "./src/pages/history/index.js":
/*!************************************!*\
  !*** ./src/pages/history/index.js ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ History; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=Box,Button,Card,CardActions,CardContent,CardMedia,Chip,CircularProgress,Grid,InputAdornment,Paper,Stack,TextField,Typography!=!@mui/material */ \"__barrel_optimize__?names=Box,Button,Card,CardActions,CardContent,CardMedia,Chip,CircularProgress,Grid,InputAdornment,Paper,Stack,TextField,Typography!=!./node_modules/@mui/material/index.js\");\n/* harmony import */ var _mui_icons_material_Search__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mui/icons-material/Search */ \"./node_modules/@mui/icons-material/Search.js\");\n/* harmony import */ var _mui_icons_material_PictureAsPdf__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @mui/icons-material/PictureAsPdf */ \"./node_modules/@mui/icons-material/PictureAsPdf.js\");\n/* harmony import */ var _mui_icons_material_Clear__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @mui/icons-material/Clear */ \"./node_modules/@mui/icons-material/Clear.js\");\n/* harmony import */ var _components_Layout_MainLayout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../components/Layout/MainLayout */ \"./src/components/Layout/MainLayout.js\");\n/* harmony import */ var _services_firebase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/firebase */ \"./src/services/firebase.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! firebase/firestore */ \"./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var react_firebase_hooks_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-firebase-hooks/auth */ \"./node_modules/react-firebase-hooks/auth/dist/index.esm.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var jspdf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jspdf */ \"../node_modules/jspdf/dist/jspdf.es.min.js\");\n/* harmony import */ var jspdf_autotable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! jspdf-autotable */ \"../node_modules/jspdf-autotable/dist/jspdf.plugin.autotable.mjs\");\n/* harmony import */ var _mui_x_date_pickers_DatePicker__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @mui/x-date-pickers/DatePicker */ \"./node_modules/@mui/x-date-pickers/esm/DatePicker/index.js\");\n/* harmony import */ var date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! date-fns/startOfDay */ \"./node_modules/date-fns/startOfDay.js\");\n/* harmony import */ var date_fns_endOfDay__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! date-fns/endOfDay */ \"./node_modules/date-fns/endOfDay.js\");\n/* harmony import */ var date_fns_isWithinInterval__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! date-fns/isWithinInterval */ \"./node_modules/date-fns/isWithinInterval.js\");\n/* harmony import */ var date_fns_parseISO__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! date-fns/parseISO */ \"./node_modules/date-fns/parseISO.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Import tệp JavaScript định nghĩa font Roboto (đặt đúng đường dẫn)\n// Quan trọng: Tệp này cần được tạo ra từ việc convert .ttf sang định dạng jsPDF\n// Ví dụ: import '../../public/fonts/roboto-regular-font.js'; // Đường dẫn này có thể cần điều chỉnh\n// Hoặc nếu tệp font.js tự đăng ký font vào đối tượng jsPDF toàn cục, bạn chỉ cần import nó.\n// Để jsPDF hoạt động với font tùy chỉnh, chúng ta cần import và đăng ký nó.\n// Giả sử bạn đã có tệp `Roboto-Regular-normal.js` được tạo từ font converter và đặt trong `public/fonts`\n// Bạn sẽ cần import nó. Tuy nhiên, việc import trực tiếp tệp .js từ public vào mã nguồn src\n// có thể không phải là cách tiếp cận chuẩn của Next.js. \n// Một cách tốt hơn là tải font qua <script> trong _document.js hoặc _app.js, \n// hoặc fetch nội dung font rồi add thủ công. \n// Cách tiếp cận đơn giản nhất nếu font converter tạo ra file .js tự đăng ký:\n// 1. Đặt file font .js vào thư mục public/fonts\n// 2. Trong _app.js hoặc một useEffect ở đây, load script đó.\n// Tạm thời, chúng ta sẽ giả định font đã được load và đăng ký bằng cách nào đó\n// và jsPDF có thể tìm thấy nó bằng tên. Nếu không, chúng ta cần cơ chế load font phức tạp hơn.\n// Helper function to convert ArrayBuffer to Base64\nfunction arrayBufferToBase64(buffer) {\n    let binary = \"\";\n    const bytes = new Uint8Array(buffer);\n    const len = bytes.byteLength;\n    for(let i = 0; i < len; i++){\n        binary += String.fromCharCode(bytes[i]);\n    }\n    return window.btoa(binary);\n}\nfunction History() {\n    _s();\n    const [user] = (0,react_firebase_hooks_auth__WEBPACK_IMPORTED_MODULE_5__.useAuthState)(_services_firebase__WEBPACK_IMPORTED_MODULE_3__.auth);\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_6__.useRouter)();\n    const [diagnosisHistory, setDiagnosisHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [startDate, setStartDate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [endDate, setEndDate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!user) {\n            if (!_services_firebase__WEBPACK_IMPORTED_MODULE_3__.auth.currentUser) {\n                const timer = setTimeout(()=>{\n                    if (!_services_firebase__WEBPACK_IMPORTED_MODULE_3__.auth.currentUser) router.push(\"/auth\");\n                }, 500);\n                return ()=>clearTimeout(timer);\n            }\n            return;\n        }\n        const fetchHistory = async ()=>{\n            setLoading(true);\n            try {\n                // Query 1: Read from the user-specific 'diagnosis' subcollection\n                const userDiagnosisQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_services_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"users\", user.uid, \"diagnosis\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.orderBy)(\"timestamp\", \"desc\"));\n                // Query 2: Read from the user-specific 'esp32cam' subcollection\n                const userEsp32Query = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_services_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"users\", user.uid, \"esp32cam\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.orderBy)(\"timestamp\", \"desc\"));\n                const [userDiagnosisSnapshot, userEsp32Snapshot] = await Promise.all([\n                    (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDocs)(userDiagnosisQuery),\n                    (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDocs)(userEsp32Query)\n                ]);\n                const transformData = (doc)=>{\n                    const data = doc.data();\n                    const result = data.result || {}; // Use existing result if present (for older data)\n                    // Map flat fields to the nested 'result' structure if not already there\n                    // and provide defaults.\n                    const diseaseName = result.disease || data.diseaseName || \"N/A\";\n                    const confidence = typeof result.confidence === \"number\" ? result.confidence : typeof data.confidence === \"number\" ? data.confidence : 0;\n                    // Sửa logic để ưu tiên data.treatment và data.prevention\n                    const treatment = result && result.treatment || data.treatment || data.recommendation || \"N/A\";\n                    const prevention = result && result.prevention || data.prevention || \"N/A\";\n                    let source = \"Kh\\xf4ng r\\xf5\";\n                    if (data.platform === \"web\") {\n                        source = \"Web\";\n                    } else if (data.platform === \"flutter\") {\n                        source = \"Mobile App\";\n                    } else if (data.platform === \"esp32cam\") {\n                        source = \"ESP32-CAM\";\n                    } else if (data.source) {\n                        source = data.source;\n                    }\n                    return {\n                        id: doc.id,\n                        ...data,\n                        result: {\n                            disease: diseaseName,\n                            confidence: confidence,\n                            treatment: treatment,\n                            prevention: prevention\n                        },\n                        timestamp: data.timestamp && data.timestamp.toDate ? data.timestamp.toDate() : data.timestamp ? (0,date_fns_parseISO__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(data.timestamp) : new Date(),\n                        source: source // Use the determined source\n                    };\n                };\n                const diagnosisData = userDiagnosisSnapshot.docs.map(transformData);\n                const esp32Data = userEsp32Snapshot.docs.map(transformData);\n                const combinedData = [\n                    ...diagnosisData,\n                    ...esp32Data\n                ];\n                combinedData.sort((a, b)=>b.timestamp && a.timestamp ? b.timestamp - a.timestamp : 0);\n                setDiagnosisHistory(combinedData);\n            } catch (error) {\n                console.error(\"Error fetching history:\", error);\n            } finally{\n                setLoading(false);\n            }\n        };\n        if (user) {\n            fetchHistory();\n        }\n    }, [\n        user,\n        router\n    ]);\n    const handleClearFilters = ()=>{\n        setSearchTerm(\"\");\n        setStartDate(null);\n        setEndDate(null);\n    };\n    const filteredHistory = diagnosisHistory.filter((item)=>{\n        const matchesSearchTerm = item && item.result && typeof item.result.disease === \"string\" && item.result.disease.toLowerCase().includes(searchTerm.toLowerCase());\n        if (!matchesSearchTerm) return false;\n        if (startDate && endDate) {\n            const itemDate = item.timestamp instanceof Date ? item.timestamp : new Date(item.timestamp);\n            if (isNaN(itemDate)) return false;\n            return (0,date_fns_isWithinInterval__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(itemDate, {\n                start: (0,date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(startDate),\n                end: (0,date_fns_endOfDay__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(endDate)\n            });\n        } else if (startDate) {\n            const itemDate = item.timestamp instanceof Date ? item.timestamp : new Date(item.timestamp);\n            if (isNaN(itemDate)) return false;\n            return (0,date_fns_isWithinInterval__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(itemDate, {\n                start: (0,date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(startDate),\n                end: (0,date_fns_endOfDay__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(startDate)\n            });\n        } else if (endDate) {\n            const itemDate = item.timestamp instanceof Date ? item.timestamp : new Date(item.timestamp);\n            if (isNaN(itemDate)) return false;\n            return (0,date_fns_isWithinInterval__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(itemDate, {\n                start: (0,date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(endDate),\n                end: (0,date_fns_endOfDay__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(endDate)\n            });\n        }\n        return true;\n    });\n    const handleExportPDF = async ()=>{\n        if (!user) return;\n        const doc = new jspdf__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\n        let fontToUse = \"Helvetica\";\n        const FONT_NAME_CUSTOM = \"NotoSansCustom\";\n        // Tải font (giữ nguyên logic hiện tại của bạn)\n        try {\n            const fontRegularUrl = \"/fonts/NotoSans-Regular.ttf\";\n            const fontRegularResponse = await fetch(fontRegularUrl);\n            if (!fontRegularResponse.ok) throw new Error(\"Failed to fetch regular font: \".concat(fontRegularResponse.statusText));\n            const fontRegularBuffer = await fontRegularResponse.arrayBuffer();\n            doc.addFileToVFS(\"NotoSans-Regular.ttf\", arrayBufferToBase64(fontRegularBuffer));\n            doc.addFont(\"NotoSans-Regular.ttf\", FONT_NAME_CUSTOM, \"normal\");\n            const fontBoldUrl = \"/fonts/NotoSans-Bold.ttf\";\n            const fontBoldResponse = await fetch(fontBoldUrl);\n            if (!fontBoldResponse.ok) throw new Error(\"Failed to fetch bold font: \".concat(fontBoldResponse.statusText));\n            const fontBoldBuffer = await fontBoldResponse.arrayBuffer();\n            doc.addFileToVFS(\"NotoSans-Bold.ttf\", arrayBufferToBase64(fontBoldBuffer));\n            doc.addFont(\"NotoSans-Bold.ttf\", FONT_NAME_CUSTOM, \"bold\");\n            fontToUse = FONT_NAME_CUSTOM;\n            console.log(\"Font NotoSans đ\\xe3 được tải cho PDF Lịch sử.\");\n        } catch (e) {\n            console.error(\"Lỗi tải font NotoSans cho PDF Lịch sử, d\\xf9ng Helvetica:\", e);\n        }\n        doc.setFont(fontToUse);\n        // Thông tin chung (giữ nguyên)\n        doc.setFontSize(18);\n        doc.text(\"B\\xe1o c\\xe1o Lịch sử Chẩn đo\\xe1n\", 14, 22);\n        doc.setFontSize(11);\n        doc.setTextColor(100);\n        doc.text(\"Người d\\xf9ng: \".concat(user.displayName || user.email || user.uid), 14, 30);\n        doc.text(\"Ng\\xe0y xuất: \".concat(new Date().toLocaleDateString(\"vi-VN\")), 14, 36);\n        // === BẮT ĐẦU LOGIC TẢI ẢNH CHO PDF LỊCH SỬ ===\n        console.log(\"Đang tải trước ảnh cho PDF Lịch sử...\");\n        const imageElementsMap = {};\n        // Sử dụng filteredHistory vì đó là dữ liệu đang được hiển thị và sẽ được xuất\n        const imagePromises = filteredHistory.map((item)=>{\n            // Giả sử mỗi item trong filteredHistory có thuộc tính imageUrl\n            if (item.imageUrl && !item.error) {\n                return new Promise((resolve)=>{\n                    const img = new Image();\n                    img.crossOrigin = \"Anonymous\";\n                    img.onload = ()=>{\n                        console.log(\"Ảnh Lịch sử đ\\xe3 tải cho PDF: \".concat(item.id || \"unknown_id\"));\n                        resolve({\n                            itemId: item.id,\n                            imageElement: img,\n                            success: true\n                        });\n                    };\n                    img.onerror = (err)=>{\n                        console.error(\"Lỗi tải ảnh PDF Lịch sử cho item \".concat(item.id || \"unknown_id\", \":\"), err);\n                        resolve({\n                            itemId: item.id,\n                            error: \"Lỗi tải ảnh cho PDF\",\n                            success: false\n                        });\n                    };\n                    img.src = item.imageUrl;\n                });\n            }\n            return Promise.resolve({\n                itemId: item.id,\n                error: item.error || \"Kh\\xf4ng c\\xf3 ảnh URL\",\n                success: false\n            });\n        });\n        const loadedImageResults = await Promise.allSettled(imagePromises);\n        loadedImageResults.forEach((promiseResult)=>{\n            if (promiseResult.status === \"fulfilled\") {\n                const value = promiseResult.value;\n                if (value.success) {\n                    imageElementsMap[value.itemId] = value.imageElement; // Dùng item.id làm key\n                } else {\n                    imageElementsMap[value.itemId] = value.error || \"Lỗi kh\\xf4ng x\\xe1c định khi tải ảnh\";\n                }\n            }\n        });\n        console.log(\"Ho\\xe0n tất tải trước ảnh cho PDF Lịch sử.\", imageElementsMap);\n        // === KẾT THÚC LOGIC TẢI ẢNH ===\n        // Cập nhật tiêu đề cột và nội dung bảng\n        const tableColumn = [\n            \"Ng\\xe0y giờ\",\n            \"Nguồn\",\n            \"Bệnh\",\n            \"Độ ch\\xednh x\\xe1c (%)\",\n            \"Điều trị\",\n            \"Ảnh\"\n        ]; // Thêm cột Ảnh\n        const tableRows = [];\n        filteredHistory.forEach((item)=>{\n            const disease = item.result && item.result.disease || item.diseaseName || \"N/A\";\n            const confidence = item.result && typeof item.result.confidence === \"number\" ? (item.result.confidence * 100).toFixed(2) : typeof item.confidence === \"number\" ? (item.confidence * 100).toFixed(2) : \"N/A\";\n            const treatment = item.result && item.result.treatment || item.treatment || item.recommendation || \"N/A\";\n            // const imageContent = imageElementsMap[item.id]; // Lấy HTMLImageElement hoặc string lỗi\n            tableRows.push([\n                item.timestamp ? item.timestamp.toLocaleString(\"vi-VN\") : \"N/A\",\n                item.source || \"Kh\\xf4ng r\\xf5\",\n                disease,\n                confidence,\n                treatment,\n                \"\"\n            ]);\n        });\n        // LOG KIỂM TRA tableRows ngay trước khi gọi autoTable\n        console.log(\"Dữ liệu tableRows sẽ được truyền v\\xe0o autoTable (trước stringify):\", tableRows);\n        // Dùng console.table để xem có cấu trúc hơn không, nhưng có thể không hiện rõ đối tượng Image\n        // console.table(tableRows);\n        (0,jspdf_autotable__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(doc, {\n            head: [\n                tableColumn\n            ],\n            body: tableRows,\n            startY: 45,\n            styles: {\n                font: fontToUse,\n                fontStyle: \"normal\",\n                fontSize: 7\n            },\n            headStyles: {\n                font: fontToUse,\n                fontStyle: \"bold\",\n                fillColor: [\n                    22,\n                    160,\n                    133\n                ],\n                fontSize: 9\n            },\n            columnStyles: {\n                0: {\n                    cellWidth: 25\n                },\n                1: {\n                    cellWidth: 20\n                },\n                2: {\n                    cellWidth: 30\n                },\n                3: {\n                    cellWidth: 20\n                },\n                4: {\n                    cellWidth: 37\n                },\n                5: {\n                    cellWidth: 40\n                }\n            },\n            didDrawCell: (data)=>{\n                if (data.column.index === 5) {\n                    // Lấy mục dữ liệu gốc cho hàng hiện tại\n                    const currentRowData = filteredHistory[data.row.index];\n                    if (currentRowData && currentRowData.id) {\n                        const imgElement = imageElementsMap[currentRowData.id];\n                        console.log(\"didDrawCell cho CỘT ẢNH (5) - Row index: \".concat(data.row.index, \", Item ID: \").concat(currentRowData.id, \", Image Element từ map:\"), imgElement);\n                        if (imgElement instanceof HTMLImageElement) {\n                            const img = imgElement;\n                            console.log(\"   L\\xe0 HTMLImageElement. src: \".concat(img.src.substring(0, 100), \"...\"));\n                            // Calculate dimensions to fit image within cell while maintaining aspect ratio\n                            const cellPadding = data.cell.padding(\"horizontal\"); // Assuming horizontal padding is same as vertical for simplicity\n                            const availableWidth = data.cell.width - 2 * cellPadding;\n                            const availableHeight = data.cell.height - 2 * cellPadding;\n                            const aspectRatio = img.width / img.height;\n                            let imgWidth = availableWidth;\n                            let imgHeight = availableWidth / aspectRatio;\n                            if (imgHeight > availableHeight) {\n                                imgHeight = availableHeight;\n                                imgWidth = availableHeight * aspectRatio;\n                            }\n                            // Ensure a minimum size if image is too small (optional, adjust as needed)\n                            const minAllowedSize = 10; // e.g., 10mm\n                            if (imgWidth < minAllowedSize) {\n                                imgWidth = minAllowedSize;\n                                imgHeight = imgWidth / aspectRatio; // Recalculate height based on new width and original aspect ratio\n                            }\n                            if (imgHeight < minAllowedSize) {\n                                imgHeight = minAllowedSize;\n                                imgWidth = imgHeight * aspectRatio; // Recalculate width\n                            }\n                            // Ensure max size not to be too big. Use a max dimension if it makes sense.\n                            const maxAllowedSize = 25; // e.g., 25mm\n                            if (imgWidth > maxAllowedSize) {\n                                imgWidth = maxAllowedSize;\n                                imgHeight = maxAllowedSize / aspectRatio;\n                            }\n                            if (imgHeight > maxAllowedSize) {\n                                imgHeight = maxAllowedSize;\n                                imgWidth = maxAllowedSize * aspectRatio;\n                            }\n                            // Re-adjust if the new size makes it exceed the cell again after min/max clamping\n                            // This is crucial to ensure it truly fits within the cell boundaries.\n                            if (imgWidth > availableWidth || imgHeight > availableHeight) {\n                                if (availableWidth / aspectRatio <= availableHeight) {\n                                    imgWidth = availableWidth;\n                                    imgHeight = availableWidth / aspectRatio;\n                                } else {\n                                    imgHeight = availableHeight;\n                                    imgWidth = availableHeight * aspectRatio;\n                                }\n                            }\n                            // Calculate position to center the image within the cell\n                            const x = data.cell.x + (data.cell.width - imgWidth) / 2;\n                            const y = data.cell.y + (data.cell.height - imgHeight) / 2;\n                            // Add more logs for debugging\n                            console.log(\"Cell Dims: W=\".concat(data.cell.width.toFixed(2), \", H=\").concat(data.cell.height.toFixed(2), \", Padding=\").concat(cellPadding.toFixed(2)));\n                            console.log(\"Available Dims: W=\".concat(availableWidth.toFixed(2), \", H=\").concat(availableHeight.toFixed(2)));\n                            console.log(\"Original Img Dims: W=\".concat(img.width, \", H=\").concat(img.height, \", AspectRatio=\").concat(aspectRatio.toFixed(2)));\n                            console.log(\"Calculated Img Dims: W=\".concat(imgWidth.toFixed(2), \", H=\").concat(imgHeight.toFixed(2)));\n                            console.log(\"Draw Pos: X=\".concat(x.toFixed(2), \", Y=\").concat(y.toFixed(2)));\n                            try {\n                                doc.addImage(img, \"JPEG\", x, y, imgWidth, imgHeight); // Draw with calculated size\n                                console.log(\"   Đ\\xe3 VẼ ảnh th\\xe0nh c\\xf4ng v\\xe0o PDF: \".concat(img.src.substring(img.src.lastIndexOf(\"/\") + 1, img.src.indexOf(\"?\"))));\n                            } catch (e) {\n                                console.error(\"   Lỗi khi thực sự vẽ ảnh v\\xe0o \\xf4 PDF Lịch sử với addImage:\", e);\n                                doc.setFontSize(6);\n                                doc.setTextColor(255, 0, 0);\n                                doc.text(\"Lỗi vẽ ảnh\", data.cell.x + data.cell.padding(\"left\"), data.cell.y + data.cell.padding(\"top\") + 3);\n                            }\n                        } else {\n                            console.log(\"   KH\\xd4NG phải HTMLImageElement trong imageElementsMap cho item ID \".concat(currentRowData.id, \". Gi\\xe1 trị l\\xe0:\"), imgElement);\n                            // Vẽ placeholder lỗi nếu không có ảnh hợp lệ từ map\n                            doc.setFontSize(6);\n                            doc.setTextColor(150, 150, 150);\n                            doc.text(typeof imgElement === \"string\" ? imgElement : \"Ảnh lỗi/N/A\", data.cell.x + data.cell.padding(\"left\"), data.cell.y + data.cell.padding(\"top\") + 3);\n                        }\n                    } else {\n                        console.log(\"   Kh\\xf4ng t\\xecm thấy currentRowData hoặc ID cho row index \".concat(data.row.index));\n                    }\n                }\n            },\n            alternateRowStyles: {\n                fillColor: [\n                    240,\n                    240,\n                    240\n                ]\n            },\n            tableLineColor: [\n                44,\n                62,\n                80\n            ],\n            tableLineWidth: 0.2,\n            didDrawPage: function(data) {\n                const pageCount = doc.internal.getNumberOfPages();\n                doc.setFontSize(8);\n                doc.setTextColor(150, 150, 150);\n                doc.text(\"Trang \" + data.pageNumber + \"/\" + pageCount, data.settings.margin.left, doc.internal.pageSize.height - 10);\n            }\n        });\n        doc.save(\"BaoCao_LichSu_\".concat(user.uid, \"_\").concat(Date.now(), \".pdf\"));\n        console.log(\"Đ\\xe3 lưu PDF Lịch sử.\");\n    };\n    if (loading && !user) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Layout_MainLayout__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Box, {\n                sx: {\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    mt: 4\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.CircularProgress, {}, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                    lineNumber: 405,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                lineNumber: 404,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n            lineNumber: 403,\n            columnNumber: 7\n        }, this);\n    }\n    if (!user && !loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Layout_MainLayout__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Box, {\n                sx: {\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    mt: 4\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Typography, {\n                    children: \"Vui l\\xf2ng đăng nhập để xem lịch sử.\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                    lineNumber: 415,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                lineNumber: 414,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n            lineNumber: 413,\n            columnNumber: 7\n        }, this);\n    }\n    if (loading && user) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Layout_MainLayout__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Box, {\n                sx: {\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    mt: 4\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.CircularProgress, {}, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                    lineNumber: 425,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                lineNumber: 424,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n            lineNumber: 423,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Layout_MainLayout__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Box, {\n            sx: {\n                mt: 4\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Typography, {\n                    variant: \"h4\",\n                    component: \"h1\",\n                    gutterBottom: true,\n                    children: \"Lịch sử chẩn đo\\xe1n\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                    lineNumber: 434,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Stack, {\n                    direction: {\n                        xs: \"column\",\n                        sm: \"row\"\n                    },\n                    spacing: 2,\n                    sx: {\n                        mb: 2,\n                        alignItems: \"center\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.TextField, {\n                            variant: \"outlined\",\n                            placeholder: \"T\\xecm kiếm theo loại bệnh...\",\n                            value: searchTerm,\n                            onChange: (e)=>setSearchTerm(e.target.value),\n                            sx: {\n                                width: {\n                                    xs: \"100%\",\n                                    sm: \"auto\"\n                                },\n                                flexGrow: 1\n                            },\n                            InputProps: {\n                                startAdornment: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.InputAdornment, {\n                                    position: \"start\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Search__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {}, void 0, false, void 0, void 0)\n                                }, void 0, false, void 0, void 0)\n                            }\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                            lineNumber: 439,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_x_date_pickers_DatePicker__WEBPACK_IMPORTED_MODULE_15__.DatePicker, {\n                            label: \"Từ ng\\xe0y\",\n                            value: startDate,\n                            onChange: (newValue)=>setStartDate(newValue),\n                            slotProps: {\n                                textField: {\n                                    variant: \"outlined\",\n                                    fullWidth: true\n                                }\n                            }\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                            lineNumber: 453,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_x_date_pickers_DatePicker__WEBPACK_IMPORTED_MODULE_15__.DatePicker, {\n                            label: \"Đến ng\\xe0y\",\n                            value: endDate,\n                            onChange: (newValue)=>setEndDate(newValue),\n                            slotProps: {\n                                textField: {\n                                    variant: \"outlined\",\n                                    fullWidth: true\n                                }\n                            },\n                            minDate: startDate\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                            lineNumber: 459,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                    lineNumber: 438,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Box, {\n                    sx: {\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        alignItems: \"center\",\n                        mb: 4\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Button, {\n                            onClick: handleClearFilters,\n                            startIcon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Clear__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {}, void 0, false, void 0, void 0),\n                            disabled: !searchTerm && !startDate && !endDate,\n                            children: \"X\\xf3a bộ lọc\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                            lineNumber: 468,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Button, {\n                            variant: \"contained\",\n                            color: \"secondary\",\n                            onClick: handleExportPDF,\n                            disabled: filteredHistory.length === 0,\n                            startIcon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_PictureAsPdf__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {}, void 0, false, void 0, void 0),\n                            children: \"Xuất PDF\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                            lineNumber: 475,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                    lineNumber: 467,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Grid, {\n                    container: true,\n                    spacing: 3,\n                    children: filteredHistory.map((item)=>{\n                        var _item_result;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Grid, {\n                            item: true,\n                            xs: 12,\n                            sm: 6,\n                            md: 4,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Card, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.CardMedia, {\n                                        component: \"img\",\n                                        height: \"200\",\n                                        image: item.imageUrl,\n                                        alt: ((_item_result = item.result) === null || _item_result === void 0 ? void 0 : _item_result.disease) || \"Leaf image\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                                        lineNumber: 490,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.CardContent, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Typography, {\n                                                variant: \"h6\",\n                                                gutterBottom: true,\n                                                children: item.result && item.result.disease ? item.result.disease : \"Kh\\xf4ng r\\xf5 bệnh\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                                                lineNumber: 497,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Typography, {\n                                                variant: \"body2\",\n                                                color: \"text.secondary\",\n                                                gutterBottom: true,\n                                                children: item.timestamp ? item.timestamp instanceof Date ? item.timestamp.toLocaleString(\"vi-VN\") : new Date(item.timestamp).toLocaleString(\"vi-VN\") : \"Kh\\xf4ng r\\xf5 thời gian\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                                                lineNumber: 500,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Chip, {\n                                                label: item.result && typeof item.result.confidence === \"number\" ? \"\".concat((item.result.confidence * 100).toFixed(2), \"%\") : \"N/A\",\n                                                color: \"primary\",\n                                                size: \"small\",\n                                                sx: {\n                                                    mt: 1\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                                                lineNumber: 503,\n                                                columnNumber: 19\n                                            }, this),\n                                            item.source && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Typography, {\n                                                variant: \"caption\",\n                                                display: \"block\",\n                                                color: \"text.secondary\",\n                                                sx: {\n                                                    mt: 0.5\n                                                },\n                                                children: [\n                                                    \"Nguồn: \",\n                                                    item.source\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                                                lineNumber: 510,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                                        lineNumber: 496,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.CardActions, {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Button, {\n                                            size: \"small\",\n                                            onClick: ()=>router.push(\"/diagnosis/\".concat(item.id)),\n                                            children: \"Xem chi tiết\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                                            lineNumber: 516,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                                        lineNumber: 515,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                                lineNumber: 489,\n                                columnNumber: 15\n                            }, this)\n                        }, item.id, false, {\n                            fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                            lineNumber: 488,\n                            columnNumber: 13\n                        }, this);\n                    })\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                    lineNumber: 486,\n                    columnNumber: 9\n                }, this),\n                filteredHistory.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Paper, {\n                    sx: {\n                        p: 3,\n                        textAlign: \"center\",\n                        mt: 4\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Box_Button_Card_CardActions_CardContent_CardMedia_Chip_CircularProgress_Grid_InputAdornment_Paper_Stack_TextField_Typography_mui_material__WEBPACK_IMPORTED_MODULE_13__.Typography, {\n                        variant: \"body1\",\n                        color: \"text.secondary\",\n                        children: searchTerm || startDate || endDate ? \"Kh\\xf4ng t\\xecm thấy kết quả chẩn đo\\xe1n n\\xe0o khớp với bộ lọc.\" : \"Chưa c\\xf3 lịch sử chẩn đo\\xe1n n\\xe0o.\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                        lineNumber: 527,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n                    lineNumber: 526,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n            lineNumber: 433,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\hyu\\\\apple_disease_detection\\\\agromind_master\\\\web\\\\src\\\\pages\\\\history\\\\index.js\",\n        lineNumber: 432,\n        columnNumber: 5\n    }, this);\n}\n_s(History, \"zwGKcD8W3G6XP+puaD80m4fhI1E=\", false, function() {\n    return [\n        react_firebase_hooks_auth__WEBPACK_IMPORTED_MODULE_5__.useAuthState,\n        next_router__WEBPACK_IMPORTED_MODULE_6__.useRouter\n    ];\n});\n_c = History;\nvar _c;\n$RefreshReg$(_c, \"History\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTZDLE9BQTFDLENBQUN1QixLQUFLMUIsTUFBTSxDQUFDRyxVQUFVLEdBQUcsR0FBRSxFQUFHOEUsT0FBTyxDQUFDLElBQUcsT0FBSztnREFDckhpRixPQUFNO2dEQUNOTSxNQUFLO2dEQUNMbkMsSUFBSTtvREFBRUcsSUFBSTtnREFBRTs7Ozs7OzRDQUViOUcsS0FBS25CLE1BQU0sa0JBQ1YsOERBQUNqRix5TUFBVUE7Z0RBQUNtTixTQUFRO2dEQUFVSCxTQUFRO2dEQUFRNEIsT0FBTTtnREFBaUI3QixJQUFJO29EQUFDRyxJQUFJO2dEQUFHOztvREFBRztvREFDMUU5RyxLQUFLbkIsTUFBTTs7Ozs7Ozs7Ozs7OztrREFJekIsOERBQUMzRSwwTUFBV0E7a0RBQ1YsNEVBQUNDLHFNQUFNQTs0Q0FBQzJPLE1BQUs7NENBQVFULFNBQVMsSUFBTTFMLE9BQU9jLElBQUksQ0FBQyxjQUFzQixPQUFSdUMsS0FBS2pCLEVBQUU7c0RBQUs7Ozs7Ozs7Ozs7Ozs7Ozs7OzJCQTVCMUNpQixLQUFLakIsRUFBRTs7Ozs7Ozs7Ozs7Z0JBcUNoRGUsZ0JBQWdCMkksTUFBTSxLQUFLLG1CQUMxQiw4REFBQzVPLG9NQUFLQTtvQkFBQzhNLElBQUk7d0JBQUVvQyxHQUFHO3dCQUFHQyxXQUFXO3dCQUFVbEMsSUFBSTtvQkFBRTs4QkFDNUMsNEVBQUNsTix5TUFBVUE7d0JBQUNtTixTQUFRO3dCQUFReUIsT0FBTTtrQ0FDL0IxTCxjQUFjRSxhQUFhRSxVQUN4QixzRUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9sQjtHQS9kd0JUOztRQUNQckIsbUVBQVlBO1FBQ1pDLGtEQUFTQTs7O0tBRkZvQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvcGFnZXMvaGlzdG9yeS9pbmRleC5qcz8xODA2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtcbiAgQm94LFxuICBUeXBvZ3JhcGh5LFxuICBQYXBlcixcbiAgR3JpZCxcbiAgQ2FyZCxcbiAgQ2FyZENvbnRlbnQsXG4gIENhcmRNZWRpYSxcbiAgQ2FyZEFjdGlvbnMsXG4gIEJ1dHRvbixcbiAgQ2hpcCxcbiAgQ2lyY3VsYXJQcm9ncmVzcyxcbiAgVGV4dEZpZWxkLFxuICBJbnB1dEFkb3JubWVudCxcbiAgU3RhY2ssXG59IGZyb20gJ0BtdWkvbWF0ZXJpYWwnO1xuaW1wb3J0IHsgU2VhcmNoIGFzIFNlYXJjaEljb24sIFBpY3R1cmVBc1BkZiBhcyBQaWN0dXJlQXNQZGZJY29uLCBDbGVhciBhcyBDbGVhckljb24gfSBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsJztcbmltcG9ydCBNYWluTGF5b3V0IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvTGF5b3V0L01haW5MYXlvdXQnO1xuaW1wb3J0IHsgZGIsIGF1dGggfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9maXJlYmFzZSc7XG5pbXBvcnQgeyBjb2xsZWN0aW9uLCBxdWVyeSwgd2hlcmUsIG9yZGVyQnksIGdldERvY3MgfSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xuaW1wb3J0IHsgdXNlQXV0aFN0YXRlIH0gZnJvbSAncmVhY3QtZmlyZWJhc2UtaG9va3MvYXV0aCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XG5pbXBvcnQganNQREYgZnJvbSAnanNwZGYnO1xuaW1wb3J0IGF1dG9UYWJsZSBmcm9tICdqc3BkZi1hdXRvdGFibGUnO1xuaW1wb3J0IHsgRGF0ZVBpY2tlciB9IGZyb20gJ0BtdWkveC1kYXRlLXBpY2tlcnMvRGF0ZVBpY2tlcic7XG5pbXBvcnQgeyBzdGFydE9mRGF5LCBlbmRPZkRheSwgaXNXaXRoaW5JbnRlcnZhbCwgcGFyc2VJU08gfSBmcm9tICdkYXRlLWZucyc7XG4vLyBJbXBvcnQgdOG7h3AgSmF2YVNjcmlwdCDEkeG7i25oIG5naMSpYSBmb250IFJvYm90byAoxJHhurd0IMSRw7puZyDEkcaw4budbmcgZOG6q24pXG4vLyBRdWFuIHRy4buNbmc6IFThu4dwIG7DoHkgY+G6p24gxJHGsOG7o2MgdOG6oW8gcmEgdOG7qyB2aeG7h2MgY29udmVydCAudHRmIHNhbmcgxJHhu4tuaCBk4bqhbmcganNQREZcbi8vIFbDrSBk4bulOiBpbXBvcnQgJy4uLy4uL3B1YmxpYy9mb250cy9yb2JvdG8tcmVndWxhci1mb250LmpzJzsgLy8gxJDGsOG7nW5nIGThuqtuIG7DoHkgY8OzIHRo4buDIGPhuqduIMSRaeG7gXUgY2jhu4luaFxuLy8gSG/hurdjIG7hur91IHThu4dwIGZvbnQuanMgdOG7sSDEkcSDbmcga8O9IGZvbnQgdsOgbyDEkeG7kWkgdMaw4bujbmcganNQREYgdG/DoG4gY+G7pWMsIGLhuqFuIGNo4buJIGPhuqduIGltcG9ydCBuw7MuXG5cbi8vIMSQ4buDIGpzUERGIGhv4bqhdCDEkeG7mW5nIHbhu5tpIGZvbnQgdMO5eSBjaOG7iW5oLCBjaMO6bmcgdGEgY+G6p24gaW1wb3J0IHbDoCDEkcSDbmcga8O9IG7Dsy5cbi8vIEdp4bqjIHPhu60gYuG6oW4gxJHDoyBjw7MgdOG7h3AgYFJvYm90by1SZWd1bGFyLW5vcm1hbC5qc2AgxJHGsOG7o2MgdOG6oW8gdOG7qyBmb250IGNvbnZlcnRlciB2w6AgxJHhurd0IHRyb25nIGBwdWJsaWMvZm9udHNgXG4vLyBC4bqhbiBz4bq9IGPhuqduIGltcG9ydCBuw7MuIFR1eSBuaGnDqm4sIHZp4buHYyBpbXBvcnQgdHLhu7FjIHRp4bq/cCB04buHcCAuanMgdOG7qyBwdWJsaWMgdsOgbyBtw6Mgbmd14buTbiBzcmNcbi8vIGPDsyB0aOG7gyBraMO0bmcgcGjhuqNpIGzDoCBjw6FjaCB0aeG6v3AgY+G6rW4gY2h14bqpbiBj4bunYSBOZXh0LmpzLiBcbi8vIE3hu5l0IGPDoWNoIHThu5F0IGjGoW4gbMOgIHThuqNpIGZvbnQgcXVhIDxzY3JpcHQ+IHRyb25nIF9kb2N1bWVudC5qcyBob+G6t2MgX2FwcC5qcywgXG4vLyBob+G6t2MgZmV0Y2ggbuG7mWkgZHVuZyBmb250IHLhu5NpIGFkZCB0aOG7pyBjw7RuZy4gXG5cbi8vIEPDoWNoIHRp4bq/cCBj4bqtbiDEkcahbiBnaeG6o24gbmjhuqV0IG7hur91IGZvbnQgY29udmVydGVyIHThuqFvIHJhIGZpbGUgLmpzIHThu7EgxJHEg25nIGvDvTpcbi8vIDEuIMSQ4bq3dCBmaWxlIGZvbnQgLmpzIHbDoG8gdGjGsCBt4bulYyBwdWJsaWMvZm9udHNcbi8vIDIuIFRyb25nIF9hcHAuanMgaG/hurdjIG3hu5l0IHVzZUVmZmVjdCDhu58gxJHDonksIGxvYWQgc2NyaXB0IMSRw7MuXG5cbi8vIFThuqFtIHRo4budaSwgY2jDum5nIHRhIHPhur0gZ2nhuqMgxJHhu4tuaCBmb250IMSRw6MgxJHGsOG7o2MgbG9hZCB2w6AgxJHEg25nIGvDvSBi4bqxbmcgY8OhY2ggbsOgbyDEkcOzXG4vLyB2w6AganNQREYgY8OzIHRo4buDIHTDrG0gdGjhuqV5IG7DsyBi4bqxbmcgdMOqbi4gTuG6v3Uga2jDtG5nLCBjaMO6bmcgdGEgY+G6p24gY8ahIGNo4bq/IGxvYWQgZm9udCBwaOG7qWMgdOG6oXAgaMahbi5cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvbnZlcnQgQXJyYXlCdWZmZXIgdG8gQmFzZTY0XG5mdW5jdGlvbiBhcnJheUJ1ZmZlclRvQmFzZTY0KGJ1ZmZlcikge1xuICBsZXQgYmluYXJ5ID0gJyc7XG4gIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgY29uc3QgbGVuID0gYnl0ZXMuYnl0ZUxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKTtcbiAgfVxuICByZXR1cm4gd2luZG93LmJ0b2EoYmluYXJ5KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSGlzdG9yeSgpIHtcbiAgY29uc3QgW3VzZXJdID0gdXNlQXV0aFN0YXRlKGF1dGgpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgW2RpYWdub3Npc0hpc3RvcnksIHNldERpYWdub3Npc0hpc3RvcnldID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbc2VhcmNoVGVybSwgc2V0U2VhcmNoVGVybV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzdGFydERhdGUsIHNldFN0YXJ0RGF0ZV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2VuZERhdGUsIHNldEVuZERhdGVdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBpZiAoIWF1dGguY3VycmVudFVzZXIpIHtcbiAgICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAoIWF1dGguY3VycmVudFVzZXIpIHJvdXRlci5wdXNoKCcvYXV0aCcpO1xuICAgICAgICB9LCA1MDApO1xuICAgICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBmZXRjaEhpc3RvcnkgPSBhc3luYyAoKSA9PiB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gUXVlcnkgMTogUmVhZCBmcm9tIHRoZSB1c2VyLXNwZWNpZmljICdkaWFnbm9zaXMnIHN1YmNvbGxlY3Rpb25cbiAgICAgICAgY29uc3QgdXNlckRpYWdub3Npc1F1ZXJ5ID0gcXVlcnkoXG4gICAgICAgICAgY29sbGVjdGlvbihkYiwgJ3VzZXJzJywgdXNlci51aWQsICdkaWFnbm9zaXMnKSwgLy8gUGF0aCB1cGRhdGVkXG4gICAgICAgICAgb3JkZXJCeSgndGltZXN0YW1wJywgJ2Rlc2MnKVxuICAgICAgICApO1xuICAgICAgICAvLyBRdWVyeSAyOiBSZWFkIGZyb20gdGhlIHVzZXItc3BlY2lmaWMgJ2VzcDMyY2FtJyBzdWJjb2xsZWN0aW9uXG4gICAgICAgIGNvbnN0IHVzZXJFc3AzMlF1ZXJ5ID0gcXVlcnkoXG4gICAgICAgICAgY29sbGVjdGlvbihkYiwgJ3VzZXJzJywgdXNlci51aWQsICdlc3AzMmNhbScpLCAvLyBQYXRoIHVwZGF0ZWRcbiAgICAgICAgICBvcmRlckJ5KCd0aW1lc3RhbXAnLCAnZGVzYycpXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgW3VzZXJEaWFnbm9zaXNTbmFwc2hvdCwgdXNlckVzcDMyU25hcHNob3RdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgIGdldERvY3ModXNlckRpYWdub3Npc1F1ZXJ5KSxcbiAgICAgICAgICBnZXREb2NzKHVzZXJFc3AzMlF1ZXJ5KVxuICAgICAgICBdKTtcblxuICAgICAgICBjb25zdCB0cmFuc2Zvcm1EYXRhID0gKGRvYykgPT4ge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGRhdGEucmVzdWx0IHx8IHt9OyAvLyBVc2UgZXhpc3RpbmcgcmVzdWx0IGlmIHByZXNlbnQgKGZvciBvbGRlciBkYXRhKVxuXG4gICAgICAgICAgLy8gTWFwIGZsYXQgZmllbGRzIHRvIHRoZSBuZXN0ZWQgJ3Jlc3VsdCcgc3RydWN0dXJlIGlmIG5vdCBhbHJlYWR5IHRoZXJlXG4gICAgICAgICAgLy8gYW5kIHByb3ZpZGUgZGVmYXVsdHMuXG4gICAgICAgICAgY29uc3QgZGlzZWFzZU5hbWUgPSByZXN1bHQuZGlzZWFzZSB8fCBkYXRhLmRpc2Vhc2VOYW1lIHx8ICdOL0EnO1xuICAgICAgICAgIGNvbnN0IGNvbmZpZGVuY2UgPSB0eXBlb2YgcmVzdWx0LmNvbmZpZGVuY2UgPT09ICdudW1iZXInID8gcmVzdWx0LmNvbmZpZGVuY2UgOiAodHlwZW9mIGRhdGEuY29uZmlkZW5jZSA9PT0gJ251bWJlcicgPyBkYXRhLmNvbmZpZGVuY2UgOiAwKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBT4butYSBsb2dpYyDEkeG7gyDGsHUgdGnDqm4gZGF0YS50cmVhdG1lbnQgdsOgIGRhdGEucHJldmVudGlvblxuICAgICAgICAgIGNvbnN0IHRyZWF0bWVudCA9IChyZXN1bHQgJiYgcmVzdWx0LnRyZWF0bWVudCkgfHwgZGF0YS50cmVhdG1lbnQgfHwgZGF0YS5yZWNvbW1lbmRhdGlvbiB8fCAnTi9BJztcbiAgICAgICAgICBjb25zdCBwcmV2ZW50aW9uID0gKHJlc3VsdCAmJiByZXN1bHQucHJldmVudGlvbikgfHwgZGF0YS5wcmV2ZW50aW9uIHx8ICdOL0EnO1xuICAgICAgICAgIFxuICAgICAgICAgIGxldCBzb3VyY2UgPSAnS2jDtG5nIHLDtSc7XG4gICAgICAgICAgaWYgKGRhdGEucGxhdGZvcm0gPT09ICd3ZWInKSB7XG4gICAgICAgICAgICBzb3VyY2UgPSAnV2ViJztcbiAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEucGxhdGZvcm0gPT09ICdmbHV0dGVyJykge1xuICAgICAgICAgICAgc291cmNlID0gJ01vYmlsZSBBcHAnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5wbGF0Zm9ybSA9PT0gJ2VzcDMyY2FtJykge1xuICAgICAgICAgICAgc291cmNlID0gJ0VTUDMyLUNBTSc7XG4gICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnNvdXJjZSkgeyAvLyBGYWxsYmFjayBmb3Igb2xkZXIgZGF0YSB0aGF0IG1pZ2h0IGhhdmUgJ3NvdXJjZSdcbiAgICAgICAgICAgIHNvdXJjZSA9IGRhdGEuc291cmNlO1xuICAgICAgICAgIH1cblxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgICAuLi5kYXRhLCAvLyBTcHJlYWQgdGhlIG9yaWdpbmFsIGRhdGFcbiAgICAgICAgICAgIHJlc3VsdDogeyAvLyBFbnN1cmUgdGhlIHJlc3VsdCBvYmplY3QgZXhwZWN0ZWQgYnkgdGhlIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgIGRpc2Vhc2U6IGRpc2Vhc2VOYW1lLFxuICAgICAgICAgICAgICAgIGNvbmZpZGVuY2U6IGNvbmZpZGVuY2UsXG4gICAgICAgICAgICAgICAgdHJlYXRtZW50OiB0cmVhdG1lbnQsXG4gICAgICAgICAgICAgICAgcHJldmVudGlvbjogcHJldmVudGlvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aW1lc3RhbXA6IGRhdGEudGltZXN0YW1wICYmIGRhdGEudGltZXN0YW1wLnRvRGF0ZSA/IGRhdGEudGltZXN0YW1wLnRvRGF0ZSgpIDogKGRhdGEudGltZXN0YW1wID8gcGFyc2VJU08oZGF0YS50aW1lc3RhbXApIDogbmV3IERhdGUoKSksXG4gICAgICAgICAgICBzb3VyY2U6IHNvdXJjZSAvLyBVc2UgdGhlIGRldGVybWluZWQgc291cmNlXG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBkaWFnbm9zaXNEYXRhID0gdXNlckRpYWdub3Npc1NuYXBzaG90LmRvY3MubWFwKHRyYW5zZm9ybURhdGEpO1xuICAgICAgICBjb25zdCBlc3AzMkRhdGEgPSB1c2VyRXNwMzJTbmFwc2hvdC5kb2NzLm1hcCh0cmFuc2Zvcm1EYXRhKTtcblxuICAgICAgICBjb25zdCBjb21iaW5lZERhdGEgPSBbLi4uZGlhZ25vc2lzRGF0YSwgLi4uZXNwMzJEYXRhXTtcbiAgICAgICAgY29tYmluZWREYXRhLnNvcnQoKGEsIGIpID0+IChiLnRpbWVzdGFtcCAmJiBhLnRpbWVzdGFtcCA/IGIudGltZXN0YW1wIC0gYS50aW1lc3RhbXAgOiAwKSk7XG5cbiAgICAgICAgc2V0RGlhZ25vc2lzSGlzdG9yeShjb21iaW5lZERhdGEpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgaGlzdG9yeTonLCBlcnJvcik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIGZldGNoSGlzdG9yeSgpO1xuICAgIH1cbiAgfSwgW3VzZXIsIHJvdXRlcl0pO1xuXG4gIGNvbnN0IGhhbmRsZUNsZWFyRmlsdGVycyA9ICgpID0+IHtcbiAgICBzZXRTZWFyY2hUZXJtKCcnKTtcbiAgICBzZXRTdGFydERhdGUobnVsbCk7XG4gICAgc2V0RW5kRGF0ZShudWxsKTtcbiAgfTtcblxuICBjb25zdCBmaWx0ZXJlZEhpc3RvcnkgPSBkaWFnbm9zaXNIaXN0b3J5LmZpbHRlcihpdGVtID0+IHtcbiAgICBjb25zdCBtYXRjaGVzU2VhcmNoVGVybSA9IGl0ZW0gJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJlc3VsdCAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpdGVtLnJlc3VsdC5kaXNlYXNlID09PSAnc3RyaW5nJyAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVzdWx0LmRpc2Vhc2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkpO1xuXG4gICAgaWYgKCFtYXRjaGVzU2VhcmNoVGVybSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKHN0YXJ0RGF0ZSAmJiBlbmREYXRlKSB7XG4gICAgICBjb25zdCBpdGVtRGF0ZSA9IGl0ZW0udGltZXN0YW1wIGluc3RhbmNlb2YgRGF0ZSA/IGl0ZW0udGltZXN0YW1wIDogbmV3IERhdGUoaXRlbS50aW1lc3RhbXApO1xuICAgICAgaWYgKGlzTmFOKGl0ZW1EYXRlKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIGlzV2l0aGluSW50ZXJ2YWwoaXRlbURhdGUsIHsgc3RhcnQ6IHN0YXJ0T2ZEYXkoc3RhcnREYXRlKSwgZW5kOiBlbmRPZkRheShlbmREYXRlKSB9KTtcbiAgICB9IGVsc2UgaWYgKHN0YXJ0RGF0ZSkge1xuICAgICAgY29uc3QgaXRlbURhdGUgPSBpdGVtLnRpbWVzdGFtcCBpbnN0YW5jZW9mIERhdGUgPyBpdGVtLnRpbWVzdGFtcCA6IG5ldyBEYXRlKGl0ZW0udGltZXN0YW1wKTtcbiAgICAgIGlmIChpc05hTihpdGVtRGF0ZSkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBpc1dpdGhpbkludGVydmFsKGl0ZW1EYXRlLCB7IHN0YXJ0OiBzdGFydE9mRGF5KHN0YXJ0RGF0ZSksIGVuZDogZW5kT2ZEYXkoc3RhcnREYXRlKSB9KTtcbiAgICB9IGVsc2UgaWYgKGVuZERhdGUpIHtcbiAgICAgIGNvbnN0IGl0ZW1EYXRlID0gaXRlbS50aW1lc3RhbXAgaW5zdGFuY2VvZiBEYXRlID8gaXRlbS50aW1lc3RhbXAgOiBuZXcgRGF0ZShpdGVtLnRpbWVzdGFtcCk7XG4gICAgICBpZiAoaXNOYU4oaXRlbURhdGUpKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gaXNXaXRoaW5JbnRlcnZhbChpdGVtRGF0ZSwgeyBzdGFydDogc3RhcnRPZkRheShlbmREYXRlKSwgZW5kOiBlbmRPZkRheShlbmREYXRlKSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuXG4gIGNvbnN0IGhhbmRsZUV4cG9ydFBERiA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXVzZXIpIHJldHVybjtcbiAgICBjb25zdCBkb2MgPSBuZXcganNQREYoKTtcbiAgICBsZXQgZm9udFRvVXNlID0gJ0hlbHZldGljYSc7XG4gICAgY29uc3QgRk9OVF9OQU1FX0NVU1RPTSA9ICdOb3RvU2Fuc0N1c3RvbSc7XG5cbiAgICAvLyBU4bqjaSBmb250IChnaeG7ryBuZ3V5w6puIGxvZ2ljIGhp4buHbiB04bqhaSBj4bunYSBi4bqhbilcbiAgICB0cnkge1xuICAgICAgY29uc3QgZm9udFJlZ3VsYXJVcmwgPSAnL2ZvbnRzL05vdG9TYW5zLVJlZ3VsYXIudHRmJzsgXG4gICAgICBjb25zdCBmb250UmVndWxhclJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZm9udFJlZ3VsYXJVcmwpO1xuICAgICAgaWYgKCFmb250UmVndWxhclJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCByZWd1bGFyIGZvbnQ6ICR7Zm9udFJlZ3VsYXJSZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgY29uc3QgZm9udFJlZ3VsYXJCdWZmZXIgPSBhd2FpdCBmb250UmVndWxhclJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XG4gICAgICBkb2MuYWRkRmlsZVRvVkZTKCdOb3RvU2Fucy1SZWd1bGFyLnR0ZicsIGFycmF5QnVmZmVyVG9CYXNlNjQoZm9udFJlZ3VsYXJCdWZmZXIpKTtcbiAgICAgIGRvYy5hZGRGb250KCdOb3RvU2Fucy1SZWd1bGFyLnR0ZicsIEZPTlRfTkFNRV9DVVNUT00sICdub3JtYWwnKTtcbiAgICAgIGNvbnN0IGZvbnRCb2xkVXJsID0gJy9mb250cy9Ob3RvU2Fucy1Cb2xkLnR0Zic7IFxuICAgICAgY29uc3QgZm9udEJvbGRSZXNwb25zZSA9IGF3YWl0IGZldGNoKGZvbnRCb2xkVXJsKTtcbiAgICAgIGlmICghZm9udEJvbGRSZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggYm9sZCBmb250OiAke2ZvbnRCb2xkUmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgIGNvbnN0IGZvbnRCb2xkQnVmZmVyID0gYXdhaXQgZm9udEJvbGRSZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuICAgICAgZG9jLmFkZEZpbGVUb1ZGUygnTm90b1NhbnMtQm9sZC50dGYnLCBhcnJheUJ1ZmZlclRvQmFzZTY0KGZvbnRCb2xkQnVmZmVyKSk7XG4gICAgICBkb2MuYWRkRm9udCgnTm90b1NhbnMtQm9sZC50dGYnLCBGT05UX05BTUVfQ1VTVE9NLCAnYm9sZCcpO1xuICAgICAgZm9udFRvVXNlID0gRk9OVF9OQU1FX0NVU1RPTTtcbiAgICAgIGNvbnNvbGUubG9nKFwiRm9udCBOb3RvU2FucyDEkcOjIMSRxrDhu6NjIHThuqNpIGNobyBQREYgTOG7i2NoIHPhu60uXCIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJM4buXaSB04bqjaSBmb250IE5vdG9TYW5zIGNobyBQREYgTOG7i2NoIHPhu60sIGTDuW5nIEhlbHZldGljYTpcIiwgZSk7XG4gICAgfVxuICAgIGRvYy5zZXRGb250KGZvbnRUb1VzZSk7XG5cbiAgICAvLyBUaMO0bmcgdGluIGNodW5nIChnaeG7ryBuZ3V5w6puKVxuICAgIGRvYy5zZXRGb250U2l6ZSgxOCk7XG4gICAgZG9jLnRleHQoJ0LDoW8gY8OhbyBM4buLY2ggc+G7rSBDaOG6qW4gxJFvw6FuJywgMTQsIDIyKTtcbiAgICBkb2Muc2V0Rm9udFNpemUoMTEpO1xuICAgIGRvYy5zZXRUZXh0Q29sb3IoMTAwKTtcbiAgICBkb2MudGV4dChgTmfGsOG7nWkgZMO5bmc6ICR7dXNlci5kaXNwbGF5TmFtZSB8fCB1c2VyLmVtYWlsIHx8IHVzZXIudWlkfWAsIDE0LCAzMCk7XG4gICAgZG9jLnRleHQoYE5nw6B5IHh14bqldDogJHtuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygndmktVk4nKX1gLCAxNCwgMzYpO1xuXG4gICAgLy8gPT09IELhuq5UIMSQ4bqmVSBMT0dJQyBU4bqiSSDhuqJOSCBDSE8gUERGIEzhu4pDSCBT4busID09PVxuICAgIGNvbnNvbGUubG9nKFwixJBhbmcgdOG6o2kgdHLGsOG7m2Mg4bqjbmggY2hvIFBERiBM4buLY2ggc+G7rS4uLlwiKTtcbiAgICBjb25zdCBpbWFnZUVsZW1lbnRzTWFwID0ge307XG4gICAgLy8gU+G7rSBk4bulbmcgZmlsdGVyZWRIaXN0b3J5IHbDrCDEkcOzIGzDoCBk4buvIGxp4buHdSDEkWFuZyDEkcaw4bujYyBoaeG7g24gdGjhu4sgdsOgIHPhur0gxJHGsOG7o2MgeHXhuqV0XG4gICAgY29uc3QgaW1hZ2VQcm9taXNlcyA9IGZpbHRlcmVkSGlzdG9yeS5tYXAoaXRlbSA9PiB7XG4gICAgICAvLyBHaeG6oyBz4butIG3hu5dpIGl0ZW0gdHJvbmcgZmlsdGVyZWRIaXN0b3J5IGPDsyB0aHXhu5ljIHTDrW5oIGltYWdlVXJsXG4gICAgICBpZiAoaXRlbS5pbWFnZVVybCAmJiAhaXRlbS5lcnJvcikgeyAvLyBDaOG7iSB04bqjaSBu4bq/dSBjw7MgaW1hZ2VVcmwgdsOgIGtow7RuZyBwaOG6o2kgbMOgIGl0ZW0gbOG7l2kgdOG7qyBmZXRjaCBiYW4gxJHhuqd1XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgIGltZy5jcm9zc09yaWdpbiA9ICdBbm9ueW1vdXMnO1xuICAgICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg4bqibmggTOG7i2NoIHPhu60gxJHDoyB04bqjaSBjaG8gUERGOiAke2l0ZW0uaWQgfHwgJ3Vua25vd25faWQnfWApO1xuICAgICAgICAgICAgcmVzb2x2ZSh7IGl0ZW1JZDogaXRlbS5pZCwgaW1hZ2VFbGVtZW50OiBpbWcsIHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBpbWcub25lcnJvciA9IChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEzhu5dpIHThuqNpIOG6o25oIFBERiBM4buLY2ggc+G7rSBjaG8gaXRlbSAke2l0ZW0uaWQgfHwgJ3Vua25vd25faWQnfTpgLCBlcnIpO1xuICAgICAgICAgICAgcmVzb2x2ZSh7IGl0ZW1JZDogaXRlbS5pZCwgZXJyb3I6ICdM4buXaSB04bqjaSDhuqNuaCBjaG8gUERGJywgc3VjY2VzczogZmFsc2UgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBpbWcuc3JjID0gaXRlbS5pbWFnZVVybDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgaXRlbUlkOiBpdGVtLmlkLCBlcnJvcjogaXRlbS5lcnJvciB8fCAnS2jDtG5nIGPDsyDhuqNuaCBVUkwnLCBzdWNjZXNzOiBmYWxzZSB9KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGxvYWRlZEltYWdlUmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChpbWFnZVByb21pc2VzKTtcbiAgICBsb2FkZWRJbWFnZVJlc3VsdHMuZm9yRWFjaChwcm9taXNlUmVzdWx0ID0+IHtcbiAgICAgIGlmIChwcm9taXNlUmVzdWx0LnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwcm9taXNlUmVzdWx0LnZhbHVlO1xuICAgICAgICBpZiAodmFsdWUuc3VjY2Vzcykge1xuICAgICAgICAgIGltYWdlRWxlbWVudHNNYXBbdmFsdWUuaXRlbUlkXSA9IHZhbHVlLmltYWdlRWxlbWVudDsgLy8gRMO5bmcgaXRlbS5pZCBsw6BtIGtleVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGltYWdlRWxlbWVudHNNYXBbdmFsdWUuaXRlbUlkXSA9IHZhbHVlLmVycm9yIHx8ICdM4buXaSBraMO0bmcgeMOhYyDEkeG7i25oIGtoaSB04bqjaSDhuqNuaCc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhcIkhvw6BuIHThuqV0IHThuqNpIHRyxrDhu5tjIOG6o25oIGNobyBQREYgTOG7i2NoIHPhu60uXCIsIGltYWdlRWxlbWVudHNNYXApO1xuICAgIC8vID09PSBL4bq+VCBUSMOaQyBMT0dJQyBU4bqiSSDhuqJOSCA9PT1cblxuICAgIC8vIEPhuq1wIG5o4bqtdCB0acOqdSDEkeG7gSBj4buZdCB2w6AgbuG7mWkgZHVuZyBi4bqjbmdcbiAgICBjb25zdCB0YWJsZUNvbHVtbiA9IFtcIk5nw6B5IGdp4budXCIsIFwiTmd14buTblwiLCBcIkLhu4duaFwiLCBcIsSQ4buZIGNow61uaCB4w6FjICglKVwiLCBcIsSQaeG7gXUgdHLhu4tcIiwgXCLhuqJuaFwiXTsgLy8gVGjDqm0gY+G7mXQg4bqibmhcbiAgICBjb25zdCB0YWJsZVJvd3MgPSBbXTtcblxuICAgIGZpbHRlcmVkSGlzdG9yeS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgY29uc3QgZGlzZWFzZSA9IChpdGVtLnJlc3VsdCAmJiBpdGVtLnJlc3VsdC5kaXNlYXNlKSB8fCBpdGVtLmRpc2Vhc2VOYW1lIHx8ICdOL0EnO1xuICAgICAgY29uc3QgY29uZmlkZW5jZSA9IChpdGVtLnJlc3VsdCAmJiB0eXBlb2YgaXRlbS5yZXN1bHQuY29uZmlkZW5jZSA9PT0gJ251bWJlcicpIFxuICAgICAgICAgICAgICAgICAgICAgICAgID8gKGl0ZW0ucmVzdWx0LmNvbmZpZGVuY2UgKiAxMDApLnRvRml4ZWQoMikgXG4gICAgICAgICAgICAgICAgICAgICAgICAgOiAodHlwZW9mIGl0ZW0uY29uZmlkZW5jZSA9PT0gJ251bWJlcicgPyAoaXRlbS5jb25maWRlbmNlICogMTAwKS50b0ZpeGVkKDIpIDogJ04vQScpO1xuICAgICAgY29uc3QgdHJlYXRtZW50ID0gKGl0ZW0ucmVzdWx0ICYmIGl0ZW0ucmVzdWx0LnRyZWF0bWVudCkgfHwgaXRlbS50cmVhdG1lbnQgfHwgaXRlbS5yZWNvbW1lbmRhdGlvbiB8fCAnTi9BJztcbiAgICAgIC8vIGNvbnN0IGltYWdlQ29udGVudCA9IGltYWdlRWxlbWVudHNNYXBbaXRlbS5pZF07IC8vIEzhuqV5IEhUTUxJbWFnZUVsZW1lbnQgaG/hurdjIHN0cmluZyBs4buXaVxuXG4gICAgICB0YWJsZVJvd3MucHVzaChbXG4gICAgICAgIGl0ZW0udGltZXN0YW1wID8gaXRlbS50aW1lc3RhbXAudG9Mb2NhbGVTdHJpbmcoJ3ZpLVZOJykgOiAnTi9BJyxcbiAgICAgICAgaXRlbS5zb3VyY2UgfHwgJ0tow7RuZyByw7UnLFxuICAgICAgICBkaXNlYXNlLFxuICAgICAgICBjb25maWRlbmNlLFxuICAgICAgICB0cmVhdG1lbnQsXG4gICAgICAgICcnLCAvLyBQYXNzIGFuIGVtcHR5IHN0cmluZyBoZXJlLiBUaGUgaW1hZ2Ugd2lsbCBiZSBkcmF3biBpbiBkaWREcmF3Q2VsbC5cbiAgICAgIF0pO1xuICAgIH0pO1xuXG4gICAgLy8gTE9HIEtJ4buCTSBUUkEgdGFibGVSb3dzIG5nYXkgdHLGsOG7m2Mga2hpIGfhu41pIGF1dG9UYWJsZVxuICAgIGNvbnNvbGUubG9nKFwiROG7ryBsaeG7h3UgdGFibGVSb3dzIHPhur0gxJHGsOG7o2MgdHJ1eeG7gW4gdsOgbyBhdXRvVGFibGUgKHRyxrDhu5tjIHN0cmluZ2lmeSk6XCIsIHRhYmxlUm93cyk7XG4gICAgLy8gRMO5bmcgY29uc29sZS50YWJsZSDEkeG7gyB4ZW0gY8OzIGPhuqV1IHRyw7pjIGjGoW4ga2jDtG5nLCBuaMawbmcgY8OzIHRo4buDIGtow7RuZyBoaeG7h24gcsO1IMSR4buRaSB0xrDhu6NuZyBJbWFnZVxuICAgIC8vIGNvbnNvbGUudGFibGUodGFibGVSb3dzKTtcblxuICAgIGF1dG9UYWJsZShkb2MsIHsgXG4gICAgICBoZWFkOiBbdGFibGVDb2x1bW5dLCBcbiAgICAgIGJvZHk6IHRhYmxlUm93cywgXG4gICAgICBzdGFydFk6IDQ1LFxuICAgICAgc3R5bGVzOiB7IGZvbnQ6IGZvbnRUb1VzZSwgZm9udFN0eWxlOiAnbm9ybWFsJywgZm9udFNpemU6IDcgfSxcbiAgICAgIGhlYWRTdHlsZXM6IHsgZm9udDogZm9udFRvVXNlLCBmb250U3R5bGU6ICdib2xkJyxmaWxsQ29sb3I6IFsyMiwgMTYwLCAxMzNdLCBmb250U2l6ZTogOSB9LFxuICAgICAgY29sdW1uU3R5bGVzOiB7IDA6IHsgY2VsbFdpZHRoOiAyNSB9LCAxOiB7IGNlbGxXaWR0aDogMjAgfSwgMjogeyBjZWxsV2lkdGg6IDMwIH0sIDM6IHsgY2VsbFdpZHRoOiAyMCB9LCA0OiB7IGNlbGxXaWR0aDogMzcgfSwgNTogeyBjZWxsV2lkdGg6IDQwIH19LFxuICAgICAgZGlkRHJhd0NlbGw6IChkYXRhKSA9PiB7XG4gICAgICAgIGlmIChkYXRhLmNvbHVtbi5pbmRleCA9PT0gNSkgeyAvLyBDaOG7iSB44butIGzDvSBj4buZdCDhuqJuaCAoaW5kZXggNSlcbiAgICAgICAgICAgIC8vIEzhuqV5IG3hu6VjIGThu68gbGnhu4d1IGfhu5FjIGNobyBow6BuZyBoaeG7h24gdOG6oWlcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRSb3dEYXRhID0gZmlsdGVyZWRIaXN0b3J5W2RhdGEucm93LmluZGV4XTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGN1cnJlbnRSb3dEYXRhICYmIGN1cnJlbnRSb3dEYXRhLmlkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW1nRWxlbWVudCA9IGltYWdlRWxlbWVudHNNYXBbY3VycmVudFJvd0RhdGEuaWRdO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBkaWREcmF3Q2VsbCBjaG8gQ+G7mFQg4bqiTkggKDUpIC0gUm93IGluZGV4OiAke2RhdGEucm93LmluZGV4fSwgSXRlbSBJRDogJHtjdXJyZW50Um93RGF0YS5pZH0sIEltYWdlIEVsZW1lbnQgdOG7qyBtYXA6YCwgaW1nRWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW1nRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nID0gaW1nRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYCAgIEzDoCBIVE1MSW1hZ2VFbGVtZW50LiBzcmM6ICR7aW1nLnNyYy5zdWJzdHJpbmcoMCwxMDApfS4uLmApO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBkaW1lbnNpb25zIHRvIGZpdCBpbWFnZSB3aXRoaW4gY2VsbCB3aGlsZSBtYWludGFpbmluZyBhc3BlY3QgcmF0aW9cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VsbFBhZGRpbmcgPSBkYXRhLmNlbGwucGFkZGluZygnaG9yaXpvbnRhbCcpOyAvLyBBc3N1bWluZyBob3Jpem9udGFsIHBhZGRpbmcgaXMgc2FtZSBhcyB2ZXJ0aWNhbCBmb3Igc2ltcGxpY2l0eVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdmFpbGFibGVXaWR0aCA9IGRhdGEuY2VsbC53aWR0aCAtICgyICogY2VsbFBhZGRpbmcpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdmFpbGFibGVIZWlnaHQgPSBkYXRhLmNlbGwuaGVpZ2h0IC0gKDIgKiBjZWxsUGFkZGluZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXNwZWN0UmF0aW8gPSBpbWcud2lkdGggLyBpbWcuaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbWdXaWR0aCA9IGF2YWlsYWJsZVdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW1nSGVpZ2h0ID0gYXZhaWxhYmxlV2lkdGggLyBhc3BlY3RSYXRpbztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaW1nSGVpZ2h0ID4gYXZhaWxhYmxlSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWdIZWlnaHQgPSBhdmFpbGFibGVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWdXaWR0aCA9IGF2YWlsYWJsZUhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmUgYSBtaW5pbXVtIHNpemUgaWYgaW1hZ2UgaXMgdG9vIHNtYWxsIChvcHRpb25hbCwgYWRqdXN0IGFzIG5lZWRlZClcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWluQWxsb3dlZFNpemUgPSAxMDsgLy8gZS5nLiwgMTBtbVxuICAgICAgICAgICAgICAgICAgICBpZiAoaW1nV2lkdGggPCBtaW5BbGxvd2VkU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1nV2lkdGggPSBtaW5BbGxvd2VkU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZ0hlaWdodCA9IGltZ1dpZHRoIC8gYXNwZWN0UmF0aW87IC8vIFJlY2FsY3VsYXRlIGhlaWdodCBiYXNlZCBvbiBuZXcgd2lkdGggYW5kIG9yaWdpbmFsIGFzcGVjdCByYXRpb1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbWdIZWlnaHQgPCBtaW5BbGxvd2VkU2l6ZSkgeyAvLyBDaGVjayBoZWlnaHQgYXMgd2VsbFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1nSGVpZ2h0ID0gbWluQWxsb3dlZFNpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWdXaWR0aCA9IGltZ0hlaWdodCAqIGFzcGVjdFJhdGlvOyAvLyBSZWNhbGN1bGF0ZSB3aWR0aFxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIG1heCBzaXplIG5vdCB0byBiZSB0b28gYmlnLiBVc2UgYSBtYXggZGltZW5zaW9uIGlmIGl0IG1ha2VzIHNlbnNlLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhBbGxvd2VkU2l6ZSA9IDI1OyAvLyBlLmcuLCAyNW1tXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbWdXaWR0aCA+IG1heEFsbG93ZWRTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWdXaWR0aCA9IG1heEFsbG93ZWRTaXplO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1nSGVpZ2h0ID0gbWF4QWxsb3dlZFNpemUgLyBhc3BlY3RSYXRpbztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaW1nSGVpZ2h0ID4gbWF4QWxsb3dlZFNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZ0hlaWdodCA9IG1heEFsbG93ZWRTaXplO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1nV2lkdGggPSBtYXhBbGxvd2VkU2l6ZSAqIGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUmUtYWRqdXN0IGlmIHRoZSBuZXcgc2l6ZSBtYWtlcyBpdCBleGNlZWQgdGhlIGNlbGwgYWdhaW4gYWZ0ZXIgbWluL21heCBjbGFtcGluZ1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGNydWNpYWwgdG8gZW5zdXJlIGl0IHRydWx5IGZpdHMgd2l0aGluIHRoZSBjZWxsIGJvdW5kYXJpZXMuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbWdXaWR0aCA+IGF2YWlsYWJsZVdpZHRoIHx8IGltZ0hlaWdodCA+IGF2YWlsYWJsZUhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF2YWlsYWJsZVdpZHRoIC8gYXNwZWN0UmF0aW8gPD0gYXZhaWxhYmxlSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nV2lkdGggPSBhdmFpbGFibGVXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWdIZWlnaHQgPSBhdmFpbGFibGVXaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWdIZWlnaHQgPSBhdmFpbGFibGVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nV2lkdGggPSBhdmFpbGFibGVIZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBwb3NpdGlvbiB0byBjZW50ZXIgdGhlIGltYWdlIHdpdGhpbiB0aGUgY2VsbFxuICAgICAgICAgICAgICAgICAgICBjb25zdCB4ID0gZGF0YS5jZWxsLnggKyAoZGF0YS5jZWxsLndpZHRoIC0gaW1nV2lkdGgpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeSA9IGRhdGEuY2VsbC55ICsgKGRhdGEuY2VsbC5oZWlnaHQgLSBpbWdIZWlnaHQpIC8gMjtcblxuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgbW9yZSBsb2dzIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYENlbGwgRGltczogVz0ke2RhdGEuY2VsbC53aWR0aC50b0ZpeGVkKDIpfSwgSD0ke2RhdGEuY2VsbC5oZWlnaHQudG9GaXhlZCgyKX0sIFBhZGRpbmc9JHtjZWxsUGFkZGluZy50b0ZpeGVkKDIpfWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQXZhaWxhYmxlIERpbXM6IFc9JHthdmFpbGFibGVXaWR0aC50b0ZpeGVkKDIpfSwgSD0ke2F2YWlsYWJsZUhlaWdodC50b0ZpeGVkKDIpfWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgT3JpZ2luYWwgSW1nIERpbXM6IFc9JHtpbWcud2lkdGh9LCBIPSR7aW1nLmhlaWdodH0sIEFzcGVjdFJhdGlvPSR7YXNwZWN0UmF0aW8udG9GaXhlZCgyKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYENhbGN1bGF0ZWQgSW1nIERpbXM6IFc9JHtpbWdXaWR0aC50b0ZpeGVkKDIpfSwgSD0ke2ltZ0hlaWdodC50b0ZpeGVkKDIpfWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRHJhdyBQb3M6IFg9JHt4LnRvRml4ZWQoMil9LCBZPSR7eS50b0ZpeGVkKDIpfWApO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuYWRkSW1hZ2UoaW1nLCAnSlBFRycsIHgsIHksIGltZ1dpZHRoLCBpbWdIZWlnaHQpOyAvLyBEcmF3IHdpdGggY2FsY3VsYXRlZCBzaXplXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgICAgxJDDoyBW4bq8IOG6o25oIHRow6BuaCBjw7RuZyB2w6BvIFBERjogJHtpbWcuc3JjLnN1YnN0cmluZyhpbWcuc3JjLmxhc3RJbmRleE9mKCcvJykrMSwgaW1nLnNyYy5pbmRleE9mKCc/JykpfWApO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiICAgTOG7l2kga2hpIHRo4buxYyBz4buxIHbhur0g4bqjbmggdsOgbyDDtCBQREYgTOG7i2NoIHPhu60gduG7m2kgYWRkSW1hZ2U6XCIsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLnNldEZvbnRTaXplKDYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLnNldFRleHRDb2xvcigyNTUsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLnRleHQoXCJM4buXaSB24bq9IOG6o25oXCIsIGRhdGEuY2VsbC54ICsgZGF0YS5jZWxsLnBhZGRpbmcoJ2xlZnQnKSwgZGF0YS5jZWxsLnkgKyBkYXRhLmNlbGwucGFkZGluZygndG9wJykgKyAzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAgICBLSMOUTkcgcGjhuqNpIEhUTUxJbWFnZUVsZW1lbnQgdHJvbmcgaW1hZ2VFbGVtZW50c01hcCBjaG8gaXRlbSBJRCAke2N1cnJlbnRSb3dEYXRhLmlkfS4gR2nDoSB0cuG7iyBsw6A6YCwgaW1nRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFbhur0gcGxhY2Vob2xkZXIgbOG7l2kgbuG6v3Uga2jDtG5nIGPDsyDhuqNuaCBo4bujcCBs4buHIHThu6sgbWFwXG4gICAgICAgICAgICAgICAgICAgIGRvYy5zZXRGb250U2l6ZSg2KTtcbiAgICAgICAgICAgICAgICAgICAgZG9jLnNldFRleHRDb2xvcigxNTAsIDE1MCwgMTUwKTtcbiAgICAgICAgICAgICAgICAgICAgZG9jLnRleHQodHlwZW9mIGltZ0VsZW1lbnQgPT09ICdzdHJpbmcnID8gaW1nRWxlbWVudCA6IFwi4bqibmggbOG7l2kvTi9BXCIsIGRhdGEuY2VsbC54ICsgZGF0YS5jZWxsLnBhZGRpbmcoJ2xlZnQnKSwgZGF0YS5jZWxsLnkgKyBkYXRhLmNlbGwucGFkZGluZygndG9wJykgKyAzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAgICBLaMO0bmcgdMOsbSB0aOG6pXkgY3VycmVudFJvd0RhdGEgaG/hurdjIElEIGNobyByb3cgaW5kZXggJHtkYXRhLnJvdy5pbmRleH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFsdGVybmF0ZVJvd1N0eWxlczogeyBmaWxsQ29sb3I6IFsyNDAsIDI0MCwgMjQwXSB9LFxuICAgICAgdGFibGVMaW5lQ29sb3I6IFs0NCwgNjIsIDgwXSxcbiAgICAgIHRhYmxlTGluZVdpZHRoOiAwLjIsXG4gICAgICBkaWREcmF3UGFnZTogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBjb25zdCBwYWdlQ291bnQgPSBkb2MuaW50ZXJuYWwuZ2V0TnVtYmVyT2ZQYWdlcygpO1xuICAgICAgICBkb2Muc2V0Rm9udFNpemUoOCk7XG4gICAgICAgIGRvYy5zZXRUZXh0Q29sb3IoMTUwLCAxNTAsIDE1MCk7XG4gICAgICAgIGRvYy50ZXh0KCdUcmFuZyAnICsgZGF0YS5wYWdlTnVtYmVyICsgJy8nICsgcGFnZUNvdW50LCBkYXRhLnNldHRpbmdzLm1hcmdpbi5sZWZ0LCBkb2MuaW50ZXJuYWwucGFnZVNpemUuaGVpZ2h0IC0gMTApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZG9jLnNhdmUoYEJhb0Nhb19MaWNoU3VfJHt1c2VyLnVpZH1fJHtEYXRlLm5vdygpfS5wZGZgKTtcbiAgICBjb25zb2xlLmxvZyhcIsSQw6MgbMawdSBQREYgTOG7i2NoIHPhu60uXCIpO1xuICB9O1xuXG4gIGlmIChsb2FkaW5nICYmICF1c2VyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxNYWluTGF5b3V0PlxuICAgICAgICA8Qm94IHN4PXt7IGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCBtdDogNCB9fT5cbiAgICAgICAgICA8Q2lyY3VsYXJQcm9ncmVzcyAvPlxuICAgICAgICA8L0JveD5cbiAgICAgIDwvTWFpbkxheW91dD5cbiAgICApO1xuICB9XG4gIFxuICBpZiAoIXVzZXIgJiYgIWxvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPE1haW5MYXlvdXQ+XG4gICAgICAgIDxCb3ggc3g9e3sgZGlzcGxheTogJ2ZsZXgnLCBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsIG10OiA0IH19PlxuICAgICAgICAgIDxUeXBvZ3JhcGh5PlZ1aSBsw7JuZyDEkcSDbmcgbmjhuq1wIMSR4buDIHhlbSBs4buLY2ggc+G7rS48L1R5cG9ncmFwaHk+XG4gICAgICAgIDwvQm94PlxuICAgICAgPC9NYWluTGF5b3V0PlxuICAgICk7XG4gIH1cblxuICBpZiAobG9hZGluZyAmJiB1c2VyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxNYWluTGF5b3V0PlxuICAgICAgICA8Qm94IHN4PXt7IGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCBtdDogNCB9fT5cbiAgICAgICAgICA8Q2lyY3VsYXJQcm9ncmVzcyAvPlxuICAgICAgICA8L0JveD5cbiAgICAgIDwvTWFpbkxheW91dD5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8TWFpbkxheW91dD5cbiAgICAgIDxCb3ggc3g9e3sgbXQ6IDQgfX0+XG4gICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJoNFwiIGNvbXBvbmVudD1cImgxXCIgZ3V0dGVyQm90dG9tPlxuICAgICAgICAgIEzhu4tjaCBz4butIGNo4bqpbiDEkW/DoW5cbiAgICAgICAgPC9UeXBvZ3JhcGh5PlxuXG4gICAgICAgIDxTdGFjayBkaXJlY3Rpb249e3sgeHM6ICdjb2x1bW4nLCBzbTogJ3JvdycgfX0gc3BhY2luZz17Mn0gc3g9e3sgbWI6IDIsIGFsaWduSXRlbXM6ICdjZW50ZXInIH19PlxuICAgICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lZFwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlTDrG0ga2nhur9tIHRoZW8gbG/huqFpIGLhu4duaC4uLlwiXG4gICAgICAgICAgICB2YWx1ZT17c2VhcmNoVGVybX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VhcmNoVGVybShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICBzeD17eyB3aWR0aDogeyB4czogJzEwMCUnLCBzbTogJ2F1dG8nIH0sIGZsZXhHcm93OiAxIH19XG4gICAgICAgICAgICBJbnB1dFByb3BzPXt7XG4gICAgICAgICAgICAgIHN0YXJ0QWRvcm5tZW50OiAoXG4gICAgICAgICAgICAgICAgPElucHV0QWRvcm5tZW50IHBvc2l0aW9uPVwic3RhcnRcIj5cbiAgICAgICAgICAgICAgICAgIDxTZWFyY2hJY29uIC8+XG4gICAgICAgICAgICAgICAgPC9JbnB1dEFkb3JubWVudD5cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgbGFiZWw9XCJU4burIG5nw6B5XCJcbiAgICAgICAgICAgIHZhbHVlPXtzdGFydERhdGV9XG4gICAgICAgICAgICBvbkNoYW5nZT17KG5ld1ZhbHVlKSA9PiBzZXRTdGFydERhdGUobmV3VmFsdWUpfVxuICAgICAgICAgICAgc2xvdFByb3BzPXt7IHRleHRGaWVsZDogeyB2YXJpYW50OiAnb3V0bGluZWQnLCBmdWxsV2lkdGg6IHRydWUgfSB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgIGxhYmVsPVwixJDhur9uIG5nw6B5XCJcbiAgICAgICAgICAgIHZhbHVlPXtlbmREYXRlfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhuZXdWYWx1ZSkgPT4gc2V0RW5kRGF0ZShuZXdWYWx1ZSl9XG4gICAgICAgICAgICBzbG90UHJvcHM9e3sgdGV4dEZpZWxkOiB7IHZhcmlhbnQ6ICdvdXRsaW5lZCcsIGZ1bGxXaWR0aDogdHJ1ZSB9IH19XG4gICAgICAgICAgICBtaW5EYXRlPXtzdGFydERhdGV9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9TdGFjaz5cbiAgICAgICAgPEJveCBzeD17eyBkaXNwbGF5OiAnZmxleCcsIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBtYjogNCB9fT5cbiAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xlYXJGaWx0ZXJzfVxuICAgICAgICAgICAgc3RhcnRJY29uPXs8Q2xlYXJJY29uIC8+fVxuICAgICAgICAgICAgZGlzYWJsZWQ9eyFzZWFyY2hUZXJtICYmICFzdGFydERhdGUgJiYgIWVuZERhdGV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgWMOzYSBi4buZIGzhu41jXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPEJ1dHRvbiBcbiAgICAgICAgICAgIHZhcmlhbnQ9XCJjb250YWluZWRcIiBcbiAgICAgICAgICAgIGNvbG9yPVwic2Vjb25kYXJ5XCIgXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVFeHBvcnRQREZ9XG4gICAgICAgICAgICBkaXNhYmxlZD17ZmlsdGVyZWRIaXN0b3J5Lmxlbmd0aCA9PT0gMH1cbiAgICAgICAgICAgIHN0YXJ0SWNvbj17PFBpY3R1cmVBc1BkZkljb24gLz59XG4gICAgICAgICAgPlxuICAgICAgICAgICAgWHXhuqV0IFBERlxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L0JveD5cblxuICAgICAgICA8R3JpZCBjb250YWluZXIgc3BhY2luZz17M30+XG4gICAgICAgICAge2ZpbHRlcmVkSGlzdG9yeS5tYXAoKGl0ZW0pID0+IChcbiAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezEyfSBzbT17Nn0gbWQ9ezR9IGtleT17aXRlbS5pZH0+XG4gICAgICAgICAgICAgIDxDYXJkPlxuICAgICAgICAgICAgICAgIDxDYXJkTWVkaWFcbiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudD1cImltZ1wiXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ9XCIyMDBcIlxuICAgICAgICAgICAgICAgICAgaW1hZ2U9e2l0ZW0uaW1hZ2VVcmx9XG4gICAgICAgICAgICAgICAgICBhbHQ9e2l0ZW0ucmVzdWx0Py5kaXNlYXNlIHx8ICdMZWFmIGltYWdlJ31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxDYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJoNlwiIGd1dHRlckJvdHRvbT5cbiAgICAgICAgICAgICAgICAgICAge2l0ZW0ucmVzdWx0ICYmIGl0ZW0ucmVzdWx0LmRpc2Vhc2UgPyBpdGVtLnJlc3VsdC5kaXNlYXNlIDogJ0tow7RuZyByw7UgYuG7h25oJ31cbiAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJib2R5MlwiIGNvbG9yPVwidGV4dC5zZWNvbmRhcnlcIiBndXR0ZXJCb3R0b20+XG4gICAgICAgICAgICAgICAgICAgIHtpdGVtLnRpbWVzdGFtcCA/IChpdGVtLnRpbWVzdGFtcCBpbnN0YW5jZW9mIERhdGUgPyBpdGVtLnRpbWVzdGFtcC50b0xvY2FsZVN0cmluZygndmktVk4nKSA6IG5ldyBEYXRlKGl0ZW0udGltZXN0YW1wKS50b0xvY2FsZVN0cmluZygndmktVk4nKSkgOiAnS2jDtG5nIHLDtSB0aOG7nWkgZ2lhbid9XG4gICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgICA8Q2hpcFxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17aXRlbS5yZXN1bHQgJiYgdHlwZW9mIGl0ZW0ucmVzdWx0LmNvbmZpZGVuY2UgPT09ICdudW1iZXInID8gYCR7KGl0ZW0ucmVzdWx0LmNvbmZpZGVuY2UgKiAxMDApLnRvRml4ZWQoMil9JWAgOiAnTi9BJ31cbiAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcbiAgICAgICAgICAgICAgICAgICAgc3g9e3sgbXQ6IDEgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICB7aXRlbS5zb3VyY2UgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwiY2FwdGlvblwiIGRpc3BsYXk9XCJibG9ja1wiIGNvbG9yPVwidGV4dC5zZWNvbmRhcnlcIiBzeD17e210OiAwLjV9fT5cbiAgICAgICAgICAgICAgICAgICAgICBOZ3Xhu5NuOiB7aXRlbS5zb3VyY2V9XG4gICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgICA8Q2FyZEFjdGlvbnM+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uIHNpemU9XCJzbWFsbFwiIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKGAvZGlhZ25vc2lzLyR7aXRlbS5pZH1gKX0+XG4gICAgICAgICAgICAgICAgICAgIFhlbSBjaGkgdGnhur90XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L0NhcmRBY3Rpb25zPlxuICAgICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvR3JpZD5cblxuICAgICAgICB7ZmlsdGVyZWRIaXN0b3J5Lmxlbmd0aCA9PT0gMCAmJiAoXG4gICAgICAgICAgPFBhcGVyIHN4PXt7IHA6IDMsIHRleHRBbGlnbjogJ2NlbnRlcicsIG10OiA0IH19PlxuICAgICAgICAgICAgPFR5cG9ncmFwaHkgdmFyaWFudD1cImJvZHkxXCIgY29sb3I9XCJ0ZXh0LnNlY29uZGFyeVwiPlxuICAgICAgICAgICAgICB7c2VhcmNoVGVybSB8fCBzdGFydERhdGUgfHwgZW5kRGF0ZVxuICAgICAgICAgICAgICAgID8gJ0tow7RuZyB0w6xtIHRo4bqleSBr4bq/dCBxdeG6oyBjaOG6qW4gxJFvw6FuIG7DoG8ga2jhu5twIHbhu5tpIGLhu5kgbOG7jWMuJ1xuICAgICAgICAgICAgICAgIDogJ0NoxrBhIGPDsyBs4buLY2ggc+G7rSBjaOG6qW4gxJFvw6FuIG7DoG8uJ31cbiAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICA8L1BhcGVyPlxuICAgICAgICApfVxuICAgICAgPC9Cb3g+XG4gICAgPC9NYWluTGF5b3V0PlxuICApO1xufSAiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIkJveCIsIlR5cG9ncmFwaHkiLCJQYXBlciIsIkdyaWQiLCJDYXJkIiwiQ2FyZENvbnRlbnQiLCJDYXJkTWVkaWEiLCJDYXJkQWN0aW9ucyIsIkJ1dHRvbiIsIkNoaXAiLCJDaXJjdWxhclByb2dyZXNzIiwiVGV4dEZpZWxkIiwiSW5wdXRBZG9ybm1lbnQiLCJTdGFjayIsIlNlYXJjaEljb24iLCJQaWN0dXJlQXNQZGZJY29uIiwiQ2xlYXJJY29uIiwiTWFpbkxheW91dCIsImRiIiwiYXV0aCIsImNvbGxlY3Rpb24iLCJxdWVyeSIsIndoZXJlIiwib3JkZXJCeSIsImdldERvY3MiLCJ1c2VBdXRoU3RhdGUiLCJ1c2VSb3V0ZXIiLCJqc1BERiIsImF1dG9UYWJsZSIsIkRhdGVQaWNrZXIiLCJzdGFydE9mRGF5IiwiZW5kT2ZEYXkiLCJpc1dpdGhpbkludGVydmFsIiwicGFyc2VJU08iLCJhcnJheUJ1ZmZlclRvQmFzZTY0IiwiYnVmZmVyIiwiYmluYXJ5IiwiYnl0ZXMiLCJVaW50OEFycmF5IiwibGVuIiwiYnl0ZUxlbmd0aCIsImkiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJ3aW5kb3ciLCJidG9hIiwiSGlzdG9yeSIsInVzZXIiLCJyb3V0ZXIiLCJkaWFnbm9zaXNIaXN0b3J5Iiwic2V0RGlhZ25vc2lzSGlzdG9yeSIsInNlYXJjaFRlcm0iLCJzZXRTZWFyY2hUZXJtIiwic3RhcnREYXRlIiwic2V0U3RhcnREYXRlIiwiZW5kRGF0ZSIsInNldEVuZERhdGUiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImN1cnJlbnRVc2VyIiwidGltZXIiLCJzZXRUaW1lb3V0IiwicHVzaCIsImNsZWFyVGltZW91dCIsImZldGNoSGlzdG9yeSIsInVzZXJEaWFnbm9zaXNRdWVyeSIsInVpZCIsInVzZXJFc3AzMlF1ZXJ5IiwidXNlckRpYWdub3Npc1NuYXBzaG90IiwidXNlckVzcDMyU25hcHNob3QiLCJQcm9taXNlIiwiYWxsIiwidHJhbnNmb3JtRGF0YSIsImRvYyIsImRhdGEiLCJyZXN1bHQiLCJkaXNlYXNlTmFtZSIsImRpc2Vhc2UiLCJjb25maWRlbmNlIiwidHJlYXRtZW50IiwicmVjb21tZW5kYXRpb24iLCJwcmV2ZW50aW9uIiwic291cmNlIiwicGxhdGZvcm0iLCJpZCIsInRpbWVzdGFtcCIsInRvRGF0ZSIsIkRhdGUiLCJkaWFnbm9zaXNEYXRhIiwiZG9jcyIsIm1hcCIsImVzcDMyRGF0YSIsImNvbWJpbmVkRGF0YSIsInNvcnQiLCJhIiwiYiIsImVycm9yIiwiY29uc29sZSIsImhhbmRsZUNsZWFyRmlsdGVycyIsImZpbHRlcmVkSGlzdG9yeSIsImZpbHRlciIsIml0ZW0iLCJtYXRjaGVzU2VhcmNoVGVybSIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJpdGVtRGF0ZSIsImlzTmFOIiwic3RhcnQiLCJlbmQiLCJoYW5kbGVFeHBvcnRQREYiLCJmb250VG9Vc2UiLCJGT05UX05BTUVfQ1VTVE9NIiwiZm9udFJlZ3VsYXJVcmwiLCJmb250UmVndWxhclJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwic3RhdHVzVGV4dCIsImZvbnRSZWd1bGFyQnVmZmVyIiwiYXJyYXlCdWZmZXIiLCJhZGRGaWxlVG9WRlMiLCJhZGRGb250IiwiZm9udEJvbGRVcmwiLCJmb250Qm9sZFJlc3BvbnNlIiwiZm9udEJvbGRCdWZmZXIiLCJsb2ciLCJlIiwic2V0Rm9udCIsInNldEZvbnRTaXplIiwidGV4dCIsInNldFRleHRDb2xvciIsImRpc3BsYXlOYW1lIiwiZW1haWwiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJpbWFnZUVsZW1lbnRzTWFwIiwiaW1hZ2VQcm9taXNlcyIsImltYWdlVXJsIiwicmVzb2x2ZSIsImltZyIsIkltYWdlIiwiY3Jvc3NPcmlnaW4iLCJvbmxvYWQiLCJpdGVtSWQiLCJpbWFnZUVsZW1lbnQiLCJzdWNjZXNzIiwib25lcnJvciIsImVyciIsInNyYyIsImxvYWRlZEltYWdlUmVzdWx0cyIsImFsbFNldHRsZWQiLCJmb3JFYWNoIiwicHJvbWlzZVJlc3VsdCIsInN0YXR1cyIsInZhbHVlIiwidGFibGVDb2x1bW4iLCJ0YWJsZVJvd3MiLCJ0b0ZpeGVkIiwidG9Mb2NhbGVTdHJpbmciLCJoZWFkIiwiYm9keSIsInN0YXJ0WSIsInN0eWxlcyIsImZvbnQiLCJmb250U3R5bGUiLCJmb250U2l6ZSIsImhlYWRTdHlsZXMiLCJmaWxsQ29sb3IiLCJjb2x1bW5TdHlsZXMiLCJjZWxsV2lkdGgiLCJkaWREcmF3Q2VsbCIsImNvbHVtbiIsImluZGV4IiwiY3VycmVudFJvd0RhdGEiLCJyb3ciLCJpbWdFbGVtZW50IiwiSFRNTEltYWdlRWxlbWVudCIsInN1YnN0cmluZyIsImNlbGxQYWRkaW5nIiwiY2VsbCIsInBhZGRpbmciLCJhdmFpbGFibGVXaWR0aCIsIndpZHRoIiwiYXZhaWxhYmxlSGVpZ2h0IiwiaGVpZ2h0IiwiYXNwZWN0UmF0aW8iLCJpbWdXaWR0aCIsImltZ0hlaWdodCIsIm1pbkFsbG93ZWRTaXplIiwibWF4QWxsb3dlZFNpemUiLCJ4IiwieSIsImFkZEltYWdlIiwibGFzdEluZGV4T2YiLCJpbmRleE9mIiwiYWx0ZXJuYXRlUm93U3R5bGVzIiwidGFibGVMaW5lQ29sb3IiLCJ0YWJsZUxpbmVXaWR0aCIsImRpZERyYXdQYWdlIiwicGFnZUNvdW50IiwiaW50ZXJuYWwiLCJnZXROdW1iZXJPZlBhZ2VzIiwicGFnZU51bWJlciIsInNldHRpbmdzIiwibWFyZ2luIiwibGVmdCIsInBhZ2VTaXplIiwic2F2ZSIsIm5vdyIsInN4IiwiZGlzcGxheSIsImp1c3RpZnlDb250ZW50IiwibXQiLCJ2YXJpYW50IiwiY29tcG9uZW50IiwiZ3V0dGVyQm90dG9tIiwiZGlyZWN0aW9uIiwieHMiLCJzbSIsInNwYWNpbmciLCJtYiIsImFsaWduSXRlbXMiLCJwbGFjZWhvbGRlciIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwiZmxleEdyb3ciLCJJbnB1dFByb3BzIiwic3RhcnRBZG9ybm1lbnQiLCJwb3NpdGlvbiIsImxhYmVsIiwibmV3VmFsdWUiLCJzbG90UHJvcHMiLCJ0ZXh0RmllbGQiLCJmdWxsV2lkdGgiLCJtaW5EYXRlIiwib25DbGljayIsInN0YXJ0SWNvbiIsImRpc2FibGVkIiwiY29sb3IiLCJsZW5ndGgiLCJjb250YWluZXIiLCJtZCIsImltYWdlIiwiYWx0Iiwic2l6ZSIsInAiLCJ0ZXh0QWxpZ24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/pages/history/index.js\n"));

/***/ })

});